return(v)
}
set.seed(7)
m <- V2(rnorm(100))
for(i in 1:100){
m <- rbind(m, V2(rnorm(100)))
}
#plot(res, type = 'l')
set.seed(7)
my_data <- rnorm(100)
V2 <- function(y) {
v <- rep(0, length(y) / 2)
for (t in seq(4, length(y), by = 2)) {
s <- 0
for (i in seq(2, t / 2, by = 2)) {
s <- s + mean(y[1:i])
}
v[t/2] <- t * (s / (t/2) - mean(y[1:t])) ^2
}
return(v)
}
set.seed(7)
m <- V2(rnorm(100))
for(i in 1:1000){
m <- rbind(m, V2(rnorm(100)))
}
#plot(res, type = 'l')
?hist
set.seed(7)
my_data <- rnorm(100)
V2 <- function(y) {
v <- rep(0, length(y) / 2)
for (t in seq(4, length(y), by = 2)) {
s <- 0
for (i in seq(2, t / 2, by = 2)) {
s <- s + mean(y[1:i])
}
v[t/2] <- t * (s / (t/2) - mean(y[1:t])) ^2
}
return(v)
}
set.seed(7)
m <- V2(rnorm(100))
for(i in 1:1000){
m <- rbind(m, V2(rnorm(100)))
}
hist(m[,5])
?hist
hist(m[,5], probability = T)
hist(m[,5], breaks = 100, probability = T)
hist(m[,5], breaks = 50, probability = T)
hist(m[,5], breaks = 40, probability = T)
?rnorm
?rnorm
?rchisq
hist(rchisq(100, df = 1), breaks = 40, probability = T)
hist(m[,5], breaks = 40, probability = T)
hist(rchisq(100, df = 1), breaks = 40, probability = T)
hist(m[,5], breaks = 40, probability = T)
hist(m[,50], breaks = 40, probability = T)
hist(rchisq(100, df = 1), breaks = 40, probability = T)
hist(m[,51], breaks = 40, probability = T)
hist(m[,49], breaks = 40, probability = T)
var(m[,49])
var(rchisq(100))
var(rchisq(100, df=1))
var(rchisq(1000, df=1))
var(rchisq(10000, df=1))
var(rchisq(100000, df=1))
var(m[,49])
apply(matrix(1:12,3,4),1,sum)
apply(m,2,var)
V2 <- function(y) {
v <- rep(0, length(y) / 2)
for (t in seq(4, length(y), by = 2)) {
s <- 0
for (i in seq(2, t / 2, by = 2)) {
s <- s + mean(y[1:i])
}
v[t/2] <- t * (s / (t/2) - mean(y[1:t])) ^2
}
return(v)
}
set.seed(7)
m <- V2(rnorm(100))
for(i in 1:10000){
m <- rbind(m, V2(rnorm(100)))
}
#hist(m[,49], breaks = 40, probability = T)
#var(m[,49])
apply(m,2,var)
apply(m,2,mean)
2^4
2^5
32*13
216 / 27
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
7/6
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
seq(2,10,2)
source("~/.active-rstudio-document")
?fraction
??fraction
1.916666*3
1.916667*12
2.716667
2.716667*12
2.716667*24
2.716667*60
163/60
?MASS::fractions
examples(MASS::fractions)
example(MASS::fractions)
?example
library(MASS)
X <- matrix(runif(25), 5, 5)
zapsmall(solve(X, X/5)) # print near-zeroes as zero
fractions(solve(X, X/5))
fractions(solve(X, X/5)) + 1
x <- function(n) {
s <- 0
for(j in 1:(n/2)) {
a <- 0
for(i in j:(n/2)) {
a <- a + 1/i
}
s <- s + (1-a)^2
}
return(s)
}
N <- 10
for(n in seq(2, N, 2)) {
print(x(n))
print(MASS::fractions(x(n)))
}
x <- function(n) {
s <- 0
for(j in 1:(n/2)) {
a <- 0
for(i in j:(n/2)) {
a <- a + 1/i
}
s <- s + (1-a)^2
}
return(s)
}
N <- 10
for(n in seq(2, N, 2)) {
print(MASS::fractions(x(n)))
}
source("~/Documents/University/ethz/semester_3/Thesis/R/journal/04-08/recursion.R")
source("~/Documents/University/ethz/semester_3/Thesis/R/journal/04-08/recursion.R")
23*5
71*3
f = function(x, den) {paste0(round(x * den), "/", den)}
x <- c(0.55, 0.246, 0.767)
f(x, 10)
source("~/Documents/University/ethz/semester_3/Thesis/R/journal/04-08/recursion.R")
source("~/Documents/University/ethz/semester_3/Thesis/R/journal/04-08/recursion.R")
x <- function(n) {
s <- 0
for(j in 1:(n/2)) {
a <- 0
for(i in j:(n/2)) {
a <- a + 1/i
}
s <- s + (1-a)^2
}
return(s)
}
N <- 20
v <- c()
for(n in seq(2, N, 2)) {
print(MASS::fractions(x(n)))
}
x <- function(n) {
s <- 0
for(j in 1:(n/2)) {
a <- 0
for(i in j:(n/2)) {
a <- a + 1/i
}
s <- s + (1-a)^2
}
return(s)
}
N <- 20
v <- c()
for(n in seq(2, N, 2)) {
cat('x_', n, ' = ', MASS::fractions(x(n)), sep ='')
}
x <- function(n) {
s <- 0
for(j in 1:(n/2)) {
a <- 0
for(i in j:(n/2)) {
a <- a + 1/i
}
s <- s + (1-a)^2
}
return(s)
}
N <- 20
v <- c()
for(n in seq(2, N, 2)) {
cat('x_', n, ' = ', MASS::fractions(x(n)), '\n' sep ='')
x <- function(n) {
s <- 0
for(j in 1:(n/2)) {
a <- 0
for(i in j:(n/2)) {
a <- a + 1/i
}
s <- s + (1-a)^2
}
return(s)
}
N <- 20
v <- c()
for(n in seq(2, N, 2)) {
cat('x_', n, ' = ', MASS::fractions(x(n)), '\n' sep ='')
}
x <- function(n) {
s <- 0
for(j in 1:(n/2)) {
a <- 0
for(i in j:(n/2)) {
a <- a + 1/i
}
s <- s + (1-a)^2
}
return(s)
}
N <- 20
v <- c()
for(n in seq(2, N, 2)) {
cat('x_', n, ' = ', MASS::fractions(x(n)), '\n', sep ='')
}
x <- function(n) {
s <- 0
for(j in 1:(n/2)) {
a <- 0
for(i in j:(n/2)) {
a <- a + 1/i
}
s <- s + (1-a)^2
}
return(s)
}
str(x(2))
str(x(4))
str(MASS::fractions(x(4)))
source("~/Documents/University/ethz/semester_3/Thesis/R/journal/04-08/recursion.R")
source("~/Documents/University/ethz/semester_3/Thesis/R/journal/04-08/recursion.R")
source("~/Documents/University/ethz/semester_3/Thesis/cpp/R_compare_cpp/test_dlm_update.r")
source("~/Documents/University/ethz/semester_3/Thesis/cpp/R_compare_cpp/test_dlm_update.r")
source("~/Documents/University/ethz/semester_3/Thesis/cpp/R_compare_cpp/test_dlm_update.r")
source("~/Documents/University/ethz/semester_3/Thesis/cpp/R_compare_cpp/test_dlm_update.r")
source("~/Documents/University/ethz/semester_3/Thesis/cpp/R_compare_cpp/test_dlm_update.r")
source("~/Documents/University/ethz/semester_3/Thesis/cpp/R_compare_cpp/test_dlm_update.r")
source("~/Documents/University/ethz/semester_3/Thesis/cpp/R_compare_cpp/test_dlm_update.r")
source("~/Documents/University/ethz/semester_3/Thesis/cpp/R_compare_cpp/test_dlm_update.r")
source("~/Documents/University/ethz/semester_3/Thesis/cpp/R_compare_cpp/test_dlm_update.r")
source("~/Documents/University/ethz/semester_3/Thesis/cpp/R_compare_cpp/test_dlm_update.r")
source("~/Documents/University/ethz/semester_3/Thesis/cpp/R_compare_cpp/test_dlm_update.r")
source("~/Documents/University/ethz/semester_3/Thesis/cpp/R_compare_cpp/test_dlm_update.r")
source("~/Documents/University/ethz/semester_3/Thesis/cpp/R_compare_cpp/test_dlm_update.r")
source("~/Documents/University/ethz/semester_3/Thesis/cpp/R_compare_cpp/test_dlm_update.r")
source("~/Documents/University/ethz/semester_3/Thesis/cpp/R_compare_cpp/test_dlm_update.r")
source("~/Documents/University/ethz/semester_3/Thesis/cpp/R_compare_cpp/test_dlm_update.r")
source("~/Documents/University/ethz/semester_3/Thesis/cpp/R_compare_cpp/test_dlm_update.r")
source("~/Documents/University/ethz/semester_3/Thesis/cpp/R_compare_cpp/test_dlm_update.r")
rm(list = ls(all.names = TRUE))
source('~/Documents/University/ethz/semester_3/Thesis/R/march/oop/started_28/class_defs/cpd.r')
source('~/Documents/University/ethz/semester_3/Thesis/R/march/oop/started_28/class_defs/dlm.r')
source('~/Documents/University/ethz/semester_3/Thesis/R/march/oop/started_28/class_defs/cpdh.r')
source('~/Documents/University/ethz/semester_3/Thesis/R/march/oop/started_28/class_defs/dlmh.r')
cat('\14')
thre <- 3
stat <- cusum
name <- 'testing v_update starting from time 1'
# obj_1 <- c_dlm_empty(thre, stat, name)
#
# set.seed(7)
# my_data <- rnorm(10)
#
# v_update(obj_1, my_data)
#
# cat('\n')
# print(obj_1)
#
# cat('\n\n####################\n')
obj_1 <- c_dlm_empty(thre, stat, name)
set.seed(7)
my_data <- round(rnorm(20), digits = 2)
print(my_data)
rm(list = ls(all.names = TRUE))
source('~/Documents/University/ethz/semester_3/Thesis/R/march/oop/started_28/class_defs/cpd.r')
source('~/Documents/University/ethz/semester_3/Thesis/R/march/oop/started_28/class_defs/dlm.r')
source('~/Documents/University/ethz/semester_3/Thesis/R/march/oop/started_28/class_defs/cpdh.r')
source('~/Documents/University/ethz/semester_3/Thesis/R/march/oop/started_28/class_defs/dlmh.r')
cat('\14')
thre <- 3
stat <- cusum
name <- 'testing v_update starting from time 1'
# obj_1 <- c_dlm_empty(thre, stat, name)
#
# set.seed(7)
# my_data <- rnorm(10)
#
# v_update(obj_1, my_data)
#
# cat('\n')
# print(obj_1)
#
# cat('\n\n####################\n')
obj_1 <- c_dlm_empty(thre, stat, name)
set.seed(7)
my_data <- round(rnorm(20), digits = 2)
print(my_data)
v_update(obj_1, my_data)
cat('\n')
print(obj_1)
source("~/Documents/University/ethz/semester_3/Thesis/cpp/R_compare_cpp/test_dlm_update.r")
source("~/Documents/University/ethz/semester_3/Thesis/R/journal/04-09_10/github.r")
print(isWhole(5.1))
isWhole(6)
source("~/Documents/University/ethz/semester_3/Thesis/R/journal/04-11/yn.R")
seq(2, 20, 2)
source("~/Documents/University/ethz/semester_3/Thesis/R/journal/04-11/yn.R")
source("~/Documents/University/ethz/semester_3/Thesis/R/journal/04-11/yn.R")
source("~/Documents/University/ethz/semester_3/Thesis/R/journal/04-11/yn.R")
MASS::fractions(0.5)
source("~/Documents/University/ethz/semester_3/Thesis/R/journal/04-11/yn.R")
source("~/Documents/University/ethz/semester_3/Thesis/R/journal/04-11/yn.R")
cat('\14')
source("~/Documents/University/ethz/semester_3/Thesis/R/journal/04-11/yn.R")
z <- 0
v <- z
for(n in seq(4, 20, 2)) {
z <- (n-2)/n*z + 2*(n-2)/n^2
v <- c(v, z)
}
plot(v)
z <- 0
v <- z
for(n in seq(4, 100, 2)) {
z <- (n-2)/n*z + 2*(n-2)/n^2
v <- c(v, z)
}
plot(v)
z <- 0
v <- z
for(n in seq(4, 1000, 2)) {
z <- (n-2)/n*z + 2*(n-2)/n^2
v <- c(v, z)
}
plot(v)
v[2]
x <- 0
w <- z
for(n in seq(4, 1000, 2)) {
x <- x + (n-2)/n
w <- c(w, x)
}
plot(w)
head(x)
x
head(w)
w
x <- 0
w <- x
for(n in seq(4, 1000, 2)) {
x <- x + (n-2)/n
w <- c(w, x)
}
plot(w)
w
head(w)
a <- c()
a <- c()
for (n in seq(2, 1000, 2)) {
a <- c(a, n/(n+2))
}
plot(a)
x <- 0
w <- x
for(n in seq(4, 1000, 2)) {
x <- x + (n-2)/n
w <- c(w, x)
}
plot(w)
z <- 0
v <- z
for(n in seq(4, 1000, 2)) {
z <- (n-2)/n*z + 2*(n-2)/n^2
v <- c(v, z)
}
plot(v)
a <- c()
for (n in seq(2, 1000, 2)) {
a <- c(a, n/(n+2))
}
plot(a)
a <- 0
for (n in seq(2, 1000, 2)) {
a <- c(a, n/(n+2))
}
plot(a)
z <- 0
v <- z
for(n in seq(4, 1000, 2)) {
z <- (n-2)/n*z + 2*(n-2)/n^2
v <- c(v, z)
}
plot(v)
a <- 0
for (n in seq(2, 1000, 2)) {
a <- c(a, n/(n+2))
}
plot(a)
z <- 0
v <- z
for(n in seq(4, 1000, 2)) {
z <- (n-2)/n*z + 2*(n-2)/n^2
v <- c(v, z)
}
plot(v)
v
z <- 0
v <- z
for(n in seq(4, 10000, 2)) {
z <- (n-2)/n*z + 2*(n-2)/n^2
v <- c(v, z)
}
plot(v)
max(v)
head(v)
diff(head(v))
MASS::fractions(diff(head(v)))
z <- 0
v <- z
for(n in seq(4, 1000, 2)) {
z <- (n-2)/n*z + 2*(n-2)/n^2
v <- c(v, z)
}
plot(v)
library(latex2exp)
install.packages("latex2exp)
"
)
install.packages("latex2exp")
library(latex2exp)
?TeX
x <- seq(0, 4, length.out=100)
alpha <- 1:5
plot(x, xlim=c(0, 4), ylim=c(0, 10),
xlab='x', ylab=latex2exp::TeX("$\alpha  x^\alpha$, where $\alpha \in \{1 \ldots 5\}$"),
type='n', main=latex2exp::TeX("Using $\LaTeX$ for plotting in base graphics!", bold=TRUE))
TeX("$\\alpha$")
set.seed(7)
d <- rnorm(8)
mean(d[1:4])
3*mean(d[1:4])
Rcpp::sourceCpp("journal/04-16/main.cpp")
Rcpp::sourceCpp("journal/04-16/main.cpp")
Rcpp::sourceCpp("journal/04-16/main.cpp")
source("~/Documents/University/ethz/semester_3/Thesis/R/march/solt/play.R")
source("~/Documents/University/ethz/semester_3/Thesis/Dlm/simulations/custom_dd.R")
setwd("~/Documents/University/ethz/semester_3/Thesis/Dlm/simulations")
source("~/Documents/University/ethz/semester_3/Thesis/Dlm/simulations/custom_dd.R")
source("~/Documents/University/ethz/semester_3/Thesis/Dlm/simulations/custom_dd.R")
source("~/Documents/University/ethz/semester_3/Thesis/Dlm/simulations/custom_dd.R")
pows <- seq(5, 0, length.out = 10)
pows
delta = c(- .5 ^ pows, .5 ^ pows) %>% sort
delta
v <- 11:20
v[-5]
v
v[c(-5,-6)]
c(- .5 ^ pows, .5 ^ pows) %>% sort[-9:12]
c(- .5 ^ pows, .5 ^ pows) %>% sort[c(-9:-12)]
source("~/Documents/University/ethz/semester_3/Thesis/Dlm/simulations/custom_dd.R")
rlang::last_error()
?RColorBrewer::brewer.pal
data_label <- generate_labels(grouped, "magnitude", max)
cbPalette <- RColorBrewer::brewer.pal(6, "Paired")[c(2, 1, 3, 4, 5, 6)]
#cbPalette <- RColorBrewer::brewer.pal(6, "Paired")[c(2, 3, 4, 5, 6)]
detection_delay <-
ggplot(
grouped %>% filter(!(algo %in% c("FOCuS-t"))),
aes(
x = magnitude,
y = det_del,
group = algo,
col = algo
)
) +
geom_line() +
scale_color_manual(values = cbPalette) +
ggtitle(paste('NREP:', NREP, '| N:', N, '| Target run length:', targ_runLen, '| Real CP:', realCP)) +
xlab("magnitude") +
ylab("Detection Delay") +
scale_y_log10() +
scale_x_log10() +
theme_idris() #+ theme(legend.position = "none")
plot(detection_delay)
# ↓ suppress message: Saving 14.5 x 9.21 in image
suppressMessages(ggsave(detection_delay, file = 'results/detection_rate.png'))
